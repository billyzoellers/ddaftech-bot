{"filter":false,"title":"meraki-listcameras.js","tooltip":"/features/meraki-listcameras.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":31,"column":0},"action":"insert","lines":["//","// Command: help","//","module.exports = function (controller) {","  controller.hears([\"^list cameras\"], 'direct_mention,direct_message', function (bot, message) {","    ","    // Determine the camera","    const meraki = require('meraki');","    const configuration = meraki.Configuration;","    ","    configuration.xCiscoMerakiAPIKey = process.env.MERAKI_TOKEN;","    ","    let networkId = 'N_591660401045840345';","    const promise = meraki.DevicesController.getNetworkDevices(networkId);","    promise.then((response) => {","          let text = \"There are \" + response.length + \" cameras in your network:\";","          ","          for (var i=0; i < response.length; i++) {","            text += \"\\n - \" + response[i].name","          }","          ","          bot.reply(message, text);","      ","    }, (err) => {","        console.log(\"Error listing devices\");","        console.log(err);","    });","    ","  });","}","",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":11,"column":4},"end":{"row":11,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1565111286576,"hash":"fbd2b5cbc9324de1e8e1a5bbb647234c8202b108"}